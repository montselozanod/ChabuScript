<html>
<head>
	<title>ChabuScript</title>
	<link rel="stylesheet" type="text/css" href="style.css" />
	<!-- function that gets called once Blockly frame loads //-->

	<script type="text/javascript">
		var workspace;
		window.blockly_loaded = function(blockly, workspaceC) {
			workspace = workspaceC;
			return window.Blockly = blockly;
		}
		window.run_code = function() {
			Blockly.Chabuscript.INFINITE_LOOP_TRAP = null;
			code = window.Blockly;
			code = window.Blockly.Chabuscript.workspaceToCode(workspace);
			console.log(code);
		}
	</script>
</head>
<body>
	<h1 id="header">ChabuScript</h1>
	<button id="button_run" onclick="run_code()">
		Run Code
	</button>
	<div id="blockly_editor">
		<!-- Blockly will be injected in the iframe below //-->
		<iframe id="blockly" src="blockly.html" width="100%"></iframe>
	</div>
	<div id="codeOutput">
		<div id="canvas"></div>
		<div id="console">
			<div class="header">
	    	<div class="dot red"></div>
	    	<div class="dot yellow"></div>
	    	<div class="dot green"></div>
			</div>
			<div class="panel">
	    	<div class="action">
	      	<div class="command"><span class="symbol">$</span></div>
	      	<div class="output"></div>
	    	</div>
	  	</div>
	  </div>
	</div>
</body>
</html>
